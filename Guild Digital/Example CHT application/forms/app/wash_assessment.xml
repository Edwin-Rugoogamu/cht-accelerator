<?xml version="1.0"?>
<h:html xmlns="http://www.w3.org/2002/xforms" xmlns:h="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:orx="http://openrosa.org/xforms">
  <h:head>
    <h:title>WASH Assessment</h:title>
    <model>
      <instance>
        <wash_assessment id="wash_assessment" prefix="J1!wash_assessment!" delimiter="#" version="2024-01-14  14-39">
          <inputs>
            <meta>
              <location>
                <lat/>
                <long/>
                <error/>
                <message/>
              </location>
            </meta>
            <source>user</source>
            <source_id/>
            <contact>
              <_id>0</_id>
              <name/>
            </contact>
          </inputs>
          <wash_assessment>
            <wash_note/>
            <wash_houses_made/>
            <wash_area_conducted/>
            <wash_session_alarm/>
            <wash_alarm_about/>
          </wash_assessment>
          <hh_visits>
            <num_hh_visits/>
            <num_hh_safe_excreta/>
            <num_hh_hand_wash/>
            <num_hh_safe_water/>
          </hh_visits>
          <group_wash_summary>
            <s_note_wash_assessment/>
            <s_note_submit_button/>
            <s_note_vht_details/>
            <s_num_wash_assessment/>
            <s_area_wash_assessment/>
          </group_wash_summary>
          <meta tag="hidden">
            <instanceID/>
          </meta>
        </wash_assessment>
      </instance>
      <instance id="contact-summary"/>
      <bind nodeset="/wash_assessment/inputs" relevant="./source='user'"/>
      <bind nodeset="/wash_assessment/inputs/source" type="string"/>
      <bind nodeset="/wash_assessment/inputs/source_id" type="string"/>
      <bind nodeset="/wash_assessment/inputs/contact/_id" type="db:person" required="true()"/>
      <bind nodeset="/wash_assessment/inputs/contact/name" type="string"/>
      <bind nodeset="/wash_assessment/wash_assessment/wash_note" readonly="true()" type="string"/>
      <bind nodeset="/wash_assessment/wash_assessment/wash_houses_made" type="int" required="true()"/>
      <bind nodeset="/wash_assessment/wash_assessment/wash_area_conducted" type="db:health_center" required="true()"/>
      <bind nodeset="/wash_assessment/wash_assessment/wash_session_alarm" type="select1" required="true()"/>
      <bind nodeset="/wash_assessment/wash_assessment/wash_alarm_about" type="select" required="true()" relevant=" /wash_assessment/wash_assessment/wash_session_alarm ='yes'"/>
      <bind nodeset="/wash_assessment/hh_visits/num_hh_visits" type="int" jr:constraintMsg="The count should be greater than zero" required="true()" constraint=".&gt;0"/>
      <bind nodeset="/wash_assessment/hh_visits/num_hh_safe_excreta" type="int" jr:constraintMsg="The count should be less or equal to the number of home visits conducted. And should be greater than zero." required="true()" constraint=".&lt;= /wash_assessment/hh_visits/num_hh_visits  and .&gt;0"/>
      <bind nodeset="/wash_assessment/hh_visits/num_hh_hand_wash" type="int" jr:constraintMsg="The count should be less or equal to the number of home visits conducted. And should be greater than zero." required="true()" constraint=".&lt;= /wash_assessment/hh_visits/num_hh_visits  and .&gt;1"/>
      <bind nodeset="/wash_assessment/hh_visits/num_hh_safe_water" type="int" jr:constraintMsg="The count should be less or equal to the number of home visits conducted. And should be greater than zero." required="true()" constraint=".&lt;= /wash_assessment/hh_visits/num_hh_visits  and .&gt;2"/>
      <bind nodeset="/wash_assessment/group_wash_summary/s_note_wash_assessment" readonly="true()" type="string"/>
      <bind nodeset="/wash_assessment/group_wash_summary/s_note_submit_button" readonly="true()" type="string"/>
      <bind nodeset="/wash_assessment/group_wash_summary/s_note_vht_details" readonly="true()" type="string"/>
      <bind nodeset="/wash_assessment/group_wash_summary/s_num_wash_assessment" readonly="true()" type="string"/>
      <bind nodeset="/wash_assessment/group_wash_summary/s_area_wash_assessment" readonly="true()" type="string"/>
      <bind nodeset="/wash_assessment/meta/instanceID" type="string" readonly="true()" calculate="concat('uuid:', uuid())"/>
    </model>
  </h:head>
  <h:body class="pages">
    <group appearance="field-list" ref="/wash_assessment/inputs">
      <label>Patient</label>
      <input appearance="hidden" ref="/wash_assessment/inputs/source">
        <label>Source</label>
      </input>
      <input appearance="hidden" ref="/wash_assessment/inputs/source_id">
        <label>Source ID</label>
      </input>
      <group ref="/wash_assessment/inputs/contact">
        <label></label>
        <input appearance="db-object" ref="/wash_assessment/inputs/contact/_id">
          <label></label>
        </input>
        <input appearance="hidden" ref="/wash_assessment/inputs/contact/name">
          <label>Name</label>
        </input>
      </group>
    </group>
    <group appearance="field-list" ref="/wash_assessment/wash_assessment">
      <label>Wash Assessment</label>
      <input ref="/wash_assessment/wash_assessment/wash_note">
        <label>Please record only observations on Water, Sanitation and Hygiene</label>
      </input>
      <input ref="/wash_assessment/wash_assessment/wash_houses_made">
        <label>How many WASH assessment visits have you made?</label>
      </input>
      <input appearance="db-object bind-id-only" ref="/wash_assessment/wash_assessment/wash_area_conducted">
        <label>Where have you conducted these WASH assessments</label>
      </input>
      <select1 ref="/wash_assessment/wash_assessment/wash_session_alarm">
        <label>Is there any alarming information under WASH that needs to be captured in the community?</label>
        <item>
          <label>Yes</label>
          <value>yes</value>
        </item>
        <item>
          <label>No</label>
          <value>no</value>
        </item>
      </select1>
      <select ref="/wash_assessment/wash_assessment/wash_alarm_about">
        <label>What is the alarm about?</label>
        <item>
          <label>Filled up latrines</label>
          <value>latrine_fill</value>
        </item>
        <item>
          <label>water shortage</label>
          <value>water_shortage</value>
        </item>
        <item>
          <label>shortage of latrines</label>
          <value>latrine_shortage</value>
        </item>
      </select>
    </group>
    <group appearance="field-list" ref="/wash_assessment/hh_visits">
      <label>Household Visits</label>
      <input ref="/wash_assessment/hh_visits/num_hh_visits">
        <label>How many household visits did you conduct?</label>
      </input>
      <input ref="/wash_assessment/hh_visits/num_hh_safe_excreta">
        <label>How many of the households you visited practice safe excreta disposal?</label>
      </input>
      <input ref="/wash_assessment/hh_visits/num_hh_hand_wash">
        <label>How many of the households you visited have a handwashing facility?</label>
      </input>
      <input ref="/wash_assessment/hh_visits/num_hh_safe_water">
        <label>How many of the households you visited have a safe water chain?</label>
      </input>
    </group>
    <group appearance="field-list summary" ref="/wash_assessment/group_wash_summary">
      <label>Results/Summary Page:</label>
      <input appearance="h1 red" ref="/wash_assessment/group_wash_summary/s_note_wash_assessment">
        <label>WASH</label>
      </input>
      <input ref="/wash_assessment/group_wash_summary/s_note_submit_button">
        <label>&lt;h4 style="text-align:center;"&gt;Be sure you Submit to complete this action.&lt;/h4&gt;</label>
      </input>
      <input appearance="h1 yellow" ref="/wash_assessment/group_wash_summary/s_note_vht_details">
        <label>Wash Assessment Details</label>
      </input>
      <input ref="/wash_assessment/group_wash_summary/s_num_wash_assessment">
        <label>&lt;h5 style=&quot;text-align:center;&quot;&gt;Number of WASH assessment visits made: <output value=" /wash_assessment/wash_assessment/wash_houses_made "/>&lt;/h5&gt;</label>
      </input>
      <input ref="/wash_assessment/group_wash_summary/s_area_wash_assessment">
        <label>&lt;h5 style="text-align:center;"&gt; WASH assessment Areas: &lt;/h5&gt;</label>
      </input>
    </group>
  </h:body>
</h:html>
